import{r,u as y,a as b,j as e}from"./index-CA_1fxgT.js";import{B as n}from"./button-B2pmM69s.js";import{c as C,C as k,a as L,b as P,d as S,e as F,L as l,I as i,f as B,t as c}from"./createLucideIcon-B63Zln4e.js";import{L as q}from"./loader-circle-Dc8ae9UL.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I=C("arrow-left",D);function H(){const[o,j]=r.useState("新用户"),[d,f]=r.useState("admin@126.com"),[t,g]=r.useState("Pmker123"),[m,w]=r.useState("Pmker123"),[a,u]=r.useState(!1),h=y(),N=b(s=>s.register),v=async s=>{if(s.preventDefault(),t!==m){c.error("两次输入的密码不一致");return}if(t.length<6){c.error("密码长度至少6位");return}u(!0);try{await N({name:o.trim(),email:d.trim(),password:t.trim()}),c.success("注册成功！欢迎使用 LuckDB"),h("/dashboard")}catch(p){console.error("Register error:",p),c.error(p?.message||"注册失败，请检查输入信息")}finally{u(!1)}},x=()=>{h("/auth/login")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsx(L,{className:"space-y-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:x,className:"p-1 h-8 w-8",children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(P,{className:"text-2xl font-bold text-center",children:"注册账户"}),e.jsx(S,{className:"text-center",children:"创建您的 LuckDB 账户"})]})]})}),e.jsxs("form",{onSubmit:v,children:[e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"姓名"}),e.jsx(i,{id:"name",type:"text",placeholder:"新用户",value:o,onChange:s=>j(s.target.value),required:!0,disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"邮箱"}),e.jsx(i,{id:"email",type:"email",placeholder:"admin@126.com",value:d,onChange:s=>f(s.target.value),required:!0,disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password",children:"密码"}),e.jsx(i,{id:"password",type:"password",placeholder:"Pmker123",value:t,onChange:s=>g(s.target.value),required:!0,disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",children:"确认密码"}),e.jsx(i,{id:"confirmPassword",type:"password",placeholder:"Pmker123",value:m,onChange:s=>w(s.target.value),required:!0,disabled:a})]})]}),e.jsxs(B,{className:"flex-col space-y-3",children:[e.jsx(n,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"mr-2 h-4 w-4 animate-spin"}),"注册中..."]}):"注册账户"}),e.jsx(n,{type:"button",variant:"ghost",className:"w-full",onClick:x,disabled:a,children:"已有账户？返回登录"})]})]})]})})}export{H as default};
