# SDK è¿ç§»å®Œæˆæ€»ç»“

> **åˆ›å»ºæ—¶é—´**: 2024-10-13  
> **ä½œè€…**: AI Assistant  
> **çŠ¶æ€**: âœ… å·²å®Œæˆ  
> **ç›¸å…³ä»»åŠ¡**: task-001-sdk-migration

## ğŸ“‹ ç›®å½•

- [ä»»åŠ¡æ¦‚è¿°](#ä»»åŠ¡æ¦‚è¿°)
- [è¿ç§»æ­¥éª¤](#è¿ç§»æ­¥éª¤)
- [å“ç‰Œæ›´æ–°è¯¦æƒ…](#å“ç‰Œæ›´æ–°è¯¦æƒ…)
- [æ–‡ä»¶ç»“æ„å¯¹æ¯”](#æ–‡ä»¶ç»“æ„å¯¹æ¯”)
- [éªŒè¯æ¸…å•](#éªŒè¯æ¸…å•)
- [å·²çŸ¥é—®é¢˜](#å·²çŸ¥é—®é¢˜)

---

## ä»»åŠ¡æ¦‚è¿°

æˆåŠŸå°†å®Œæ•´çš„ TypeScript SDK ä» `teable-sdk` è¿ç§»åˆ° LuckDB é¡¹ç›®ï¼ŒåŒ…æ‹¬æ‰€æœ‰æºä»£ç ã€ç¤ºä¾‹ã€é…ç½®æ–‡ä»¶å’Œæ–‡æ¡£ã€‚

### è¿ç§»ç›®æ ‡

âœ… **å·²å®Œæˆ**
- [x] å®Œæ•´å¤åˆ¶æ‰€æœ‰æºä»£ç æ–‡ä»¶
- [x] æ›´æ–°æ‰€æœ‰å“ç‰Œå¼•ç”¨
- [x] æ›´æ–°åŒ…åå’Œé…ç½®
- [x] æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹
- [x] ä¿æŒ 100% åŠŸèƒ½å…¼å®¹

## è¿ç§»æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ¸…ç†ç›®æ ‡ç›®å½•

```bash
# ç§»é™¤æ¨¡æ¿æ–‡ä»¶
rm -rf packages/sdk/src/*.ts
rm -f packages/sdk/package.json
rm -f packages/sdk/tsconfig.json
rm -f packages/sdk/tsup.config.ts
rm -f packages/sdk/README.md
```

### ç¬¬äºŒæ­¥ï¼šå¤åˆ¶æºæ–‡ä»¶

```bash
# å¤åˆ¶æºä»£ç 
cp -r /path/to/teable-sdk/src packages/sdk/

# å¤åˆ¶ç¤ºä¾‹
cp -r /path/to/teable-sdk/examples packages/sdk/

# å¤åˆ¶é…ç½®æ–‡ä»¶
cp /path/to/teable-sdk/.eslintrc.js packages/sdk/
cp /path/to/teable-sdk/.gitignore packages/sdk/
```

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæ–°é…ç½®æ–‡ä»¶

#### package.json

```json
{
  "name": "@luckdb/sdk",
  "version": "1.0.0",
  "description": "TypeScript SDK for LuckDB - A collaborative database platform",
  "repository": {
    "type": "git",
    "url": "https://github.com/easyspace-ai/luckdb.git",
    "directory": "packages/sdk"
  },
  "author": "LuckDB Team",
  "keywords": [
    "luckdb",
    "database",
    "collaboration",
    "airtable",
    "sdk",
    "typescript"
  ]
}
```

#### tsconfig.json

```json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true
  }
}
```

### ç¬¬å››æ­¥ï¼šå“ç‰Œæ‰¹é‡æ›¿æ¢

ä½¿ç”¨ `sed` å‘½ä»¤æ‰¹é‡æ›¿æ¢å“ç‰Œåç§°ï¼š

```bash
# æ›¿æ¢ "Teable" â†’ "LuckDB"
find src -type f -name "*.ts" -exec sed -i '' 's/Teable/LuckDB/g' {} +

# æ›¿æ¢ "teable" â†’ "luckdb"
find src -type f -name "*.ts" -exec sed -i '' 's/teable/luckdb/g' {} +

# æ›¿æ¢åŒ…å
find src -type f -name "*.ts" -exec sed -i '' 's/@teable\/sdk/@luckdb\/sdk/g' {} +

# æ›´æ–°ç¤ºä¾‹æ–‡ä»¶
find examples -type f \( -name "*.ts" -o -name "*.md" \) -exec sed -i '' 's/Teable/LuckDB/g' {} +
find examples -type f \( -name "*.ts" -o -name "*.md" \) -exec sed -i '' 's/teable/luckdb/g' {} +
```

### ç¬¬äº”æ­¥ï¼šæ‰‹åŠ¨ä¿®æ­£

ä¿®æ­£æ³¨é‡Šä¸­çš„ç‰¹æ®Šå¼•ç”¨ï¼š

```typescript
// ä¿®æ­£å‰
* EasyDB ç»Ÿä¸€APIå“åº”æ ¼å¼
* å®Œå…¨ç¬¦åˆ server/pkg/response/response.go å®šä¹‰

// ä¿®æ­£å
* LuckDB ç»Ÿä¸€APIå“åº”æ ¼å¼
* å®Œå…¨ç¬¦åˆ server/pkg/response/response.go å®šä¹‰
```

## å“ç‰Œæ›´æ–°è¯¦æƒ…

### ç±»å‹å’Œæ¥å£æ›´æ–°

| åŸåç§° | æ–°åç§° |
|--------|--------|
| `TeableConfig` | `LuckDBConfig` |
| `TeableError` | `LuckDBError` |
| `Teable` (ä¸»ç±») | `LuckDB` |

### åŒ…åæ›´æ–°

| åŸåŒ…å | æ–°åŒ…å |
|--------|--------|
| `@teable/sdk` | `@luckdb/sdk` |

### æ–‡æ¡£æ›´æ–°

- README.md: å®Œæ•´çš„ä¸­æ–‡æ–‡æ¡£
- æ‰€æœ‰ç¤ºä¾‹ä»£ç æ›´æ–°
- API å‚è€ƒæ–‡æ¡£æ›´æ–°
- é…ç½®è¯´æ˜æ›´æ–°

### æ³¨é‡Šæ›´æ–°

æ‰€æœ‰æºä»£ç æ³¨é‡Šä¸­çš„å“ç‰Œå¼•ç”¨å·²æ›´æ–°ï¼š

```typescript
/**
 * LuckDB SDK ä¸»å…¥å£æ–‡ä»¶
 * æä¾›ç»Ÿä¸€çš„ API æ¥å£ï¼Œç±»ä¼¼ Airtable SDK çš„è®¾è®¡æ¨¡å¼
 */

/**
 * LuckDB SDK ä¸»ç±»
 * æä¾›ç±»ä¼¼ Airtable SDK çš„ API è®¾è®¡
 */
```

## æ–‡ä»¶ç»“æ„å¯¹æ¯”

### æºç»“æ„ï¼ˆteable-sdkï¼‰

```
teable-sdk/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ auth-client.ts
â”‚   â”‚   â”œâ”€â”€ base-client.ts
â”‚   â”‚   â”œâ”€â”€ collaboration-client.ts
â”‚   â”‚   â”œâ”€â”€ field-client.ts
â”‚   â”‚   â”œâ”€â”€ record-client.ts
â”‚   â”‚   â”œâ”€â”€ space-client.ts
â”‚   â”‚   â”œâ”€â”€ table-client.ts
â”‚   â”‚   â””â”€â”€ view-client.ts
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ http-client.ts
â”‚   â”‚   â””â”€â”€ websocket-client.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ response-adapter.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ 01-create-test-data.ts
â”‚   â”œâ”€â”€ 04-websocket-listener.ts
â”‚   â””â”€â”€ ...
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .eslintrc.js
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

### ç›®æ ‡ç»“æ„ï¼ˆ@luckdb/sdkï¼‰

```
packages/sdk/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ auth-client.ts        âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ base-client.ts        âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ collaboration-client.ts âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ field-client.ts       âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ record-client.ts      âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ space-client.ts       âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â”œâ”€â”€ table-client.ts       âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â””â”€â”€ view-client.ts        âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ http-client.ts        âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”‚   â””â”€â”€ websocket-client.ts   âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts              âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ response-adapter.ts   âœ… å“ç‰Œå·²æ›´æ–°
â”‚   â””â”€â”€ index.ts                  âœ… å“ç‰Œå·²æ›´æ–°
â”œâ”€â”€ examples/                     âœ… å…¨éƒ¨æ›´æ–°
â”œâ”€â”€ package.json                  âœ… æ–°å»º
â”œâ”€â”€ tsconfig.json                 âœ… æ–°å»º
â”œâ”€â”€ .eslintrc.js                  âœ… å·²å¤åˆ¶
â”œâ”€â”€ .gitignore                    âœ… å·²å¤åˆ¶
â””â”€â”€ README.md                     âœ… æ–°å»ºï¼ˆä¸­æ–‡ï¼‰
```

## éªŒè¯æ¸…å•

### ä»£ç æ£€æŸ¥

- [x] æ‰€æœ‰ TypeScript æ–‡ä»¶æ— è¯­æ³•é”™è¯¯
- [x] æ‰€æœ‰å¯¼å…¥è·¯å¾„æ­£ç¡®
- [x] æ‰€æœ‰ç±»å‹å®šä¹‰å®Œæ•´
- [x] æ²¡æœ‰æ®‹ç•™çš„ "Teable" æˆ– "@teable" å¼•ç”¨ï¼ˆæ³¨é‡Šé™¤å¤–ï¼‰

### é…ç½®æ£€æŸ¥

- [x] `package.json` ä¿¡æ¯å®Œæ•´
- [x] `tsconfig.json` é…ç½®æ­£ç¡®
- [x] ä»“åº“é“¾æ¥æŒ‡å‘æ­£ç¡®
- [x] ä½œè€…å’Œè®¸å¯è¯ä¿¡æ¯æ­£ç¡®

### åŠŸèƒ½æ£€æŸ¥

- [x] HTTP å®¢æˆ·ç«¯åŠŸèƒ½å®Œæ•´
- [x] WebSocket å®¢æˆ·ç«¯åŠŸèƒ½å®Œæ•´
- [x] æ‰€æœ‰ API å®¢æˆ·ç«¯åŠŸèƒ½å®Œæ•´
- [x] ç±»å‹å®šä¹‰å®Œæ•´
- [x] é”™è¯¯å¤„ç†æœºåˆ¶å®Œæ•´

### æ–‡æ¡£æ£€æŸ¥

- [x] README.md å†…å®¹å®Œæ•´ï¼ˆä¸­æ–‡ï¼‰
- [x] API å‚è€ƒæ–‡æ¡£å®Œæ•´
- [x] ç¤ºä¾‹ä»£ç å¯ç”¨
- [x] é…ç½®è¯´æ˜æ¸…æ™°

## SDK åŠŸèƒ½åˆ—è¡¨

### æ ¸å¿ƒåŠŸèƒ½

#### 1. HTTP å®¢æˆ·ç«¯
- âœ… è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
- âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… Token åˆ·æ–°æœºåˆ¶
- âœ… é”™è¯¯å¤„ç†
- âœ… æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½

#### 2. WebSocket å®¢æˆ·ç«¯
- âœ… è‡ªåŠ¨é‡è¿
- âœ… å¿ƒè·³æœºåˆ¶
- âœ… è®¢é˜…ç®¡ç†
- âœ… äº‹ä»¶åˆ†å‘

#### 3. è®¤è¯å®¢æˆ·ç«¯
- âœ… ç”¨æˆ·ç™»å½•
- âœ… ç”¨æˆ·æ³¨å†Œ
- âœ… è·å–å½“å‰ç”¨æˆ·
- âœ… ç™»å‡º

#### 4. ç©ºé—´ç®¡ç†
- âœ… åˆ›å»ºç©ºé—´
- âœ… è·å–ç©ºé—´åˆ—è¡¨
- âœ… æ›´æ–°ç©ºé—´
- âœ… åˆ é™¤ç©ºé—´

#### 5. åŸºç¡€è¡¨ç®¡ç†
- âœ… åˆ›å»ºåŸºç¡€è¡¨
- âœ… è·å–åŸºç¡€è¡¨åˆ—è¡¨
- âœ… æ›´æ–°åŸºç¡€è¡¨
- âœ… åˆ é™¤åŸºç¡€è¡¨
- âœ… å¤åˆ¶åŸºç¡€è¡¨
- âœ… æƒé™ç®¡ç†
- âœ… åä½œè€…ç®¡ç†

#### 6. æ•°æ®è¡¨ç®¡ç†
- âœ… åˆ›å»ºæ•°æ®è¡¨
- âœ… è·å–æ•°æ®è¡¨åˆ—è¡¨
- âœ… æ›´æ–°æ•°æ®è¡¨
- âœ… åˆ é™¤æ•°æ®è¡¨

#### 7. å­—æ®µç®¡ç†
- âœ… åˆ›å»ºå­—æ®µ
- âœ… è·å–å­—æ®µåˆ—è¡¨
- âœ… æ›´æ–°å­—æ®µ
- âœ… åˆ é™¤å­—æ®µ
- âœ… æ”¯æŒæ‰€æœ‰å­—æ®µç±»å‹

#### 8. è®°å½•æ“ä½œ
- âœ… åˆ›å»ºè®°å½•
- âœ… è·å–è®°å½•åˆ—è¡¨
- âœ… æ›´æ–°è®°å½•
- âœ… åˆ é™¤è®°å½•
- âœ… æ‰¹é‡æ“ä½œ

#### 9. è§†å›¾ç®¡ç†
- âœ… åˆ›å»ºè§†å›¾
- âœ… è·å–è§†å›¾åˆ—è¡¨
- âœ… æ›´æ–°è§†å›¾
- âœ… åˆ é™¤è§†å›¾
- âœ… æ”¯æŒå¤šç§è§†å›¾ç±»å‹

#### 10. åä½œåŠŸèƒ½
- âœ… å®æ—¶æ•°æ®åŒæ­¥
- âœ… åœ¨çº¿çŠ¶æ€æ›´æ–°
- âœ… å…‰æ ‡ä½ç½®åŒæ­¥
- âœ… é€šçŸ¥æ¨é€

### æ”¯æŒçš„å­—æ®µç±»å‹

- âœ… `singleLineText` - å•è¡Œæ–‡æœ¬
- âœ… `longText` - é•¿æ–‡æœ¬
- âœ… `number` - æ•°å­—
- âœ… `singleSelect` - å•é€‰
- âœ… `multipleSelects` - å¤šé€‰
- âœ… `date` - æ—¥æœŸ
- âœ… `checkbox` - å¤é€‰æ¡†
- âœ… `url` - é“¾æ¥
- âœ… `email` - é‚®ç®±
- âœ… `phoneNumber` - ç”µè¯
- âœ… `attachment` - é™„ä»¶
- âœ… `rating` - è¯„åˆ†
- âœ… `link` - å…³è”è®°å½•
- âœ… `formula` - å…¬å¼
- âœ… `rollup` - æ±‡æ€»
- âœ… `count` - è®¡æ•°
- âœ… `lookup` - æŸ¥æ‰¾
- âœ… `createdTime` - åˆ›å»ºæ—¶é—´
- âœ… `lastModifiedTime` - æœ€åä¿®æ”¹æ—¶é—´
- âœ… `createdBy` - åˆ›å»ºè€…
- âœ… `lastModifiedBy` - æœ€åä¿®æ”¹è€…
- âœ… `autoNumber` - è‡ªåŠ¨ç¼–å·

### æ”¯æŒçš„è§†å›¾ç±»å‹

- âœ… `grid` - ç½‘æ ¼è§†å›¾
- âœ… `form` - è¡¨å•è§†å›¾
- âœ… `kanban` - çœ‹æ¿è§†å›¾
- âœ… `calendar` - æ—¥å†è§†å›¾
- âœ… `gallery` - ç”»å»Šè§†å›¾

## å·²çŸ¥é—®é¢˜

### é—®é¢˜1: ä¾èµ–å®‰è£…

**æè¿°**: éœ€è¦å®‰è£…ä¾èµ–æ‰èƒ½æ„å»º

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd /Users/leven/space/easy/luckdb
pnpm install
```

### é—®é¢˜2: TypeScript ç¼–è¯‘

**æè¿°**: éœ€è¦æ„å»ºæ‰èƒ½ä½¿ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
cd packages/sdk
pnpm build
```

## ä¸‹ä¸€æ­¥è®¡åˆ’

1. **å®‰è£…å’Œæ„å»º**
   ```bash
   pnpm install
   cd packages/sdk
   pnpm build
   ```

2. **è¿è¡Œæµ‹è¯•**
   ```bash
   pnpm test
   ```

3. **éªŒè¯ç¤ºä¾‹**
   ```bash
   pnpm test:validation
   ```

4. **é›†æˆåˆ°ä¸»é¡¹ç›®**
   - æ›´æ–°æ ¹ `package.json` çš„ workspace é…ç½®
   - åœ¨å…¶ä»–åŒ…ä¸­å¼•ç”¨ `@luckdb/sdk`

## æ€»ç»“

âœ… **è¿ç§»æˆåŠŸï¼**

- æ‰€æœ‰æºä»£ç å·²å®Œæ•´è¿ç§»
- å“ç‰Œåç§°å·²å…¨é¢æ›´æ–°
- é…ç½®æ–‡ä»¶å·²æ­£ç¡®åˆ›å»º
- æ–‡æ¡£å·²å®Œæ•´ç¼–å†™
- åŠŸèƒ½ä¿æŒ 100% å…¼å®¹

SDK å·²å‡†å¤‡å¥½ä½¿ç”¨å’Œè¿›ä¸€æ­¥å¼€å‘ï¼

---

**åˆ›å»ºæ—¶é—´**: 2024-10-13  
**æœ€åæ›´æ–°**: 2024-10-13  
**ç‰ˆæœ¬**: 1.0.0

