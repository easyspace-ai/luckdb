# 🚀 零配置功能快速测试

## 测试目标

验证 `StandardDataView` 的零配置全功能是否正常工作。

## 📋 测试清单

### 1. 基础功能测试

- [ ] **页面加载**：demo 正常启动，无错误
- [ ] **登录功能**：使用 `admin@126.com` / `Pmker123` 登录成功
- [ ] **数据加载**：字段和记录正常显示
- [ ] **工具栏显示**：所有按钮正常显示

### 2. 添加记录功能（零配置）

- [ ] **按钮显示**：蓝色"添加记录"按钮可见
- [ ] **弹窗功能**：点击按钮弹出对话框
- [ ] **表单渲染**：字段表单正确渲染
- [ ] **数据输入**：可以正常输入数据
- [ ] **保存功能**：点击保存按钮成功创建记录
- [ ] **自动刷新**：保存后数据自动刷新

### 3. 添加字段功能（零配置）

- [ ] **按钮显示**：蓝色"添加字段"按钮可见
- [ ] **弹窗功能**：点击按钮弹出字段配置对话框
- [ ] **字段类型**：可以选择不同字段类型
- [ ] **字段命名**：可以输入字段名称
- [ ] **保存功能**：点击保存按钮成功创建字段
- [ ] **自动刷新**：保存后字段列表自动刷新

### 4. 字段配置功能（零配置）

- [ ] **下拉框显示**：字段配置下拉框可见
- [ ] **字段列表**：显示所有字段
- [ ] **显示切换**：可以切换字段显示/隐藏
- [ ] **字段排序**：可以拖拽排序字段

### 5. 数据编辑功能

- [ ] **单元格编辑**：可以编辑单元格内容
- [ ] **实时保存**：编辑后自动保存
- [ ] **数据同步**：编辑结果正确显示

## 🔍 测试步骤

### 步骤 1：启动测试环境

```bash
# 1. 构建 aitable 包
cd /Users/leven/space/easy/luckdb/packages/aitable
npm run build

# 2. 启动 demo
cd /Users/leven/space/easy/luckdb/packages/aitable/demo
npm run dev
```

访问：http://localhost:5176

### 步骤 2：登录验证

1. 输入邮箱：`admin@126.com`
2. 输入密码：`Pmker123`
3. 点击"登录"
4. 验证登录成功，进入表格视图

### 步骤 3：添加记录测试

1. 点击蓝色"添加记录"按钮
2. 验证弹窗正常显示
3. 填写表单数据：
   - 姓名：测试用户
   - 邮箱：test@example.com
   - 其他字段随意填写
4. 点击"保存"按钮
5. 验证：
   - 弹窗关闭
   - 新记录出现在表格中
   - 控制台显示"✅ 记录创建成功"

### 步骤 4：添加字段测试

1. 点击蓝色"添加字段"按钮
2. 验证字段配置对话框显示
3. 配置新字段：
   - 字段类型：选择"单行文本"
   - 字段名称：输入"测试字段"
4. 点击"确定"按钮
5. 验证：
   - 对话框关闭
   - 新字段出现在表格中
   - 控制台显示"✅ 字段创建成功并已刷新"

### 步骤 5：字段配置测试

1. 点击字段配置下拉框
2. 验证字段列表显示
3. 测试功能：
   - 取消勾选某个字段，验证隐藏
   - 重新勾选，验证显示
   - 拖拽字段，验证排序

### 步骤 6：数据编辑测试

1. 点击任意单元格
2. 修改内容
3. 按 Enter 或点击其他地方
4. 验证数据已保存

## 🐛 故障排除

### 问题 1：添加记录按钮不显示

**检查项**：
```javascript
console.log('配置检查:', {
  hasSDK: !!sdk,
  hasTableId: !!tableId,
  hasFields: !!fields?.length,
});
```

**解决方案**：
- 确保 `sdk` 已正确登录
- 确保 `tableId` 有效
- 确保 `fields` 数组不为空

### 问题 2：添加字段按钮不显示

**检查项**：
```javascript
console.log('字段配置检查:', {
  hasSDK: !!sdk,
  hasTableId: !!tableId,
  toolbarConfig: toolbarConfig,
});
```

**解决方案**：
- 确保 `sdk` 和 `tableId` 都已传入
- 检查 `showToolbar` 是否为 `true`

### 问题 3：保存失败

**检查项**：
- 查看浏览器控制台错误信息
- 检查网络请求状态
- 验证后端服务是否正常运行

**解决方案**：
- 检查 SDK 登录状态
- 验证用户权限
- 检查后端 API 是否正常

## ✅ 成功标准

所有测试项都通过，且满足以下条件：

1. **功能完整性**：所有零配置功能正常工作
2. **用户体验**：操作流畅，无卡顿
3. **错误处理**：异常情况有合理提示
4. **数据一致性**：操作后数据正确同步
5. **性能表现**：响应时间在可接受范围内

## 📊 测试报告模板

```
测试时间：2025-10-17
测试环境：Chrome 浏览器
测试结果：✅ 通过 / ❌ 失败

基础功能：
- 页面加载：✅
- 登录功能：✅
- 数据加载：✅

添加记录：
- 按钮显示：✅
- 弹窗功能：✅
- 保存功能：✅
- 自动刷新：✅

添加字段：
- 按钮显示：✅
- 弹窗功能：✅
- 保存功能：✅
- 自动刷新：✅

字段配置：
- 下拉框显示：✅
- 显示切换：✅
- 字段排序：✅

数据编辑：
- 单元格编辑：✅
- 实时保存：✅

总体评价：零配置功能完全正常，用户体验良好。
```

---

**测试指南版本**: v1.0  
**适用版本**: @luckdb/aitable v1.1.0+  
**最后更新**: 2025-10-17
