# LuckDB Grid - 全功能演示

这是一个全新的、干净的 LuckDB Grid 演示项目，展示了表格组件的所有核心功能。

## 🚀 快速开始

### 安装依赖

```bash
pnpm install
```

### 启动开发服务器

```bash
pnpm dev
```

然后访问 http://localhost:3005/

### 构建生产版本

```bash
pnpm build
```

## ✨ 功能特性

### 📊 数据规模
- ✅ 15 列 × 200 行
- ✅ 共 3000 个单元格
- ✅ 虚拟滚动已启用

### 🎨 支持的列类型
- **文本类**: 文本、链接、邮箱
- **数字类**: 数字、货币、百分比
- **布尔类**: 复选框
- **选择类**: 单选、多选
- **其他类**: 日期、评分

### ⚡ 核心功能
- ✅ 高性能虚拟滚动
- ✅ 高DPI屏幕优化（devicePixelRatio支持）
- ✅ 冻结列（前2列固定）
- ✅ 单元格选择
- ✅ 单元格编辑
- ✅ 清晰的表格边框
- ✅ 无缝的表头和内容连接

### 🖱️ 右键菜单功能
- ✅ **列头右键菜单**：
  - 编辑字段（打开字段属性编辑器）
  - 复制字段（复制字段配置）
  - 在左侧插入字段
  - 在右侧插入字段
  - 按此字段筛选
  - 按此字段排序
  - 按此字段分组
  - 冻结至此字段
  - 隐藏字段
  - 删除字段

- ✅ **行头右键菜单**：
  - 删除行
  - 复制行
  - 在上方插入行
  - 在下方插入行
  - 展开行（如果有子行）

- ✅ **单元格右键菜单**：
  - 复制单元格
  - 粘贴到单元格
  - 删除单元格内容

### 🛠️ 工具栏功能
- ✅ 撤销/重做
- ✅ 添加新记录
- ✅ 字段配置
- ✅ 筛选器
- ✅ 排序
- ✅ 分组
- ✅ 搜索
- ✅ 全屏模式
- ✅ 分享
- ✅ API 文档
- ✅ 协作功能

## 📁 项目结构

```
example/
├── src/
│   ├── main.tsx          # 应用入口
│   ├── App.tsx           # 主组件
│   └── data.ts           # 演示数据生成器
├── index.html            # HTML模板
├── vite.config.ts        # Vite配置
├── tsconfig.json         # TypeScript配置
└── package.json          # 项目配置
```

## 🎯 技术亮点

### 1. 高DPI支持
- Canvas 物理尺寸 = CSS尺寸 × devicePixelRatio
- 绘图上下文自动缩放
- 文字和边框清晰锐利

### 2. 优化的边框绘制
- 使用单边绘制策略（右+下）
- 像素对齐优化（-0.5 偏移）
- 表头和内容无缝连接

### 3. 虚拟滚动
- 只渲染可见区域
- 流畅的滚动体验
- 支持大数据量

## 🔧 开发说明

### 修改数据
编辑 `src/data.ts` 中的 `generateDemoData` 函数来自定义演示数据。

### 修改列配置
编辑 `src/App.tsx` 中的 `columns` 数组来添加或修改列。

### 自定义样式
所有样式都使用内联样式，可以直接在 `src/App.tsx` 中修改。

## 📝 注意事项

1. **依赖关系**: 此项目直接引用父目录的 Grid 组件源码（通过别名 `@luckdb/grid`）
2. **端口**: 开发服务器运行在 3005 端口
3. **构建**: 使用 Vite 进行快速构建和热更新

## 🐛 已解决的问题

- ✅ 高DPI屏幕模糊 → 已修复
- ✅ 表头和内容间隙 → 已修复
- ✅ 边框线条重叠 → 已优化
- ✅ prop名称错误 → 已修正
- ✅ 左对齐问题 → 已确认

## 📄 License

MIT



