# âœ… Teable å“ç‰Œæ¸…ç†å®ŒæˆæŠ¥å‘Š

## æ¸…ç†æ¦‚è§ˆ

å·²å®Œæˆå¯¹é¡¹ç›®ä¸­æ‰€æœ‰ **teable** ç›¸å…³å­—æ ·çš„æ¸…ç†å’Œæ›´æ–°ã€‚

## å·²æ¸…ç†çš„ä½ç½®

### 1. é…ç½®æ–‡ä»¶ âœ…
- âœ… ç¯å¢ƒå˜é‡å‰ç¼€ï¼š`TEABLE` â†’ `LUCKDB`
- âœ… JWT Issuerï¼š`teable-api` â†’ `luckdb-api`
- âœ… WebSocket Redis å‰ç¼€ï¼š`teable:ws` â†’ `luckdb:ws`

**æ–‡ä»¶**: `server/internal/config/config.go`

### 2. æµ‹è¯•ä»£ç  âœ…
- âœ… æ•°æ®åº“åç§°ï¼š`teable_test` â†’ `luckdb_test`
- âœ… JWT Issuerï¼š`teable-test` â†’ `luckdb-test`
- âœ… å¹³å°åç§°ï¼š`"Teable"` â†’ `"LuckDB"`

**æ–‡ä»¶**: 
- `server/internal/testing/integration/base.go`
- `server/internal/domain/notification/entity_test.go`
- `server/internal/domain/notification/integration_test.go`

### 3. ç›‘æ§é…ç½® âœ…
- âœ… å®ä¾‹åç§°ï¼š`teable-backend` â†’ `luckdb-backend`

**æ–‡ä»¶**: `server/internal/infrastructure/monitoring/metrics_collector.go`

### 4. ä»£ç æ³¨é‡Š âœ…
å°†æ‰€æœ‰æ³¨é‡Šä¸­å¯¹ Teable çš„å¼•ç”¨æ ‡æ³¨ä¸º"å‚è€ƒåŸé¡¹ç›®"ï¼š

- âœ… `å‚è€ƒTeable` â†’ `å‚è€ƒåŸ Teable é¡¹ç›®`
- âœ… `Teableå­—æ®µç±»å‹` â†’ `åŸ Teable é¡¹ç›®å­—æ®µç±»å‹`
- âœ… `Teable NestJS` â†’ `åŸ Teable é¡¹ç›® NestJS`

**æ–‡ä»¶**:
- `server/internal/application/permission_service_v2.go`
- `server/internal/application/permission/action.go`
- `server/internal/application/permission/role_matrix.go`
- `server/internal/infrastructure/database/provider.go`
- `server/internal/infrastructure/database/postgres_provider.go`

### 5. æ–‡æ¡£æ›´æ–° âœ…
- âœ… æ‰€æœ‰ `.md` æ–‡æ¡£ä¸­çš„ import è·¯å¾„ç¤ºä¾‹
- âœ… `teable-go-backend` â†’ `github.com/easyspace-ai/luckdb/server`
- âœ… `Teable-Develop` â†’ `åŸ Teable-Develop é¡¹ç›®`

**ç›®å½•**: `server/internal/domain/table/*.md`

## ä¿ç•™çš„å¼•ç”¨

ä»¥ä¸‹å¼•ç”¨è¢«æ ‡æ³¨ä¸º"åŸé¡¹ç›®"è€Œéç›´æ¥åˆ é™¤ï¼Œç”¨äºè¯´æ˜è®¾è®¡å‚è€ƒæ¥æºï¼š

### ä»£ç æ³¨é‡Šä¸­çš„è®¾è®¡è¯´æ˜
```go
// å‚è€ƒåŸ Teable é¡¹ç›®çš„æƒé™è®¾è®¡
// ä¸¥æ ¼æŒ‰ç…§åŸ Teable é¡¹ç›®ï¼ˆNestJSï¼‰å®ç°
// å°†åŸ Teable é¡¹ç›®å­—æ®µç±»å‹æ˜ å°„åˆ°æ•°æ®åº“ç±»å‹
```

### æ–‡æ¡£ä¸­çš„æ¶æ„è¯´æ˜
```markdown
## åŸ Teable-Develop é¡¹ç›®çš„å®ç°
å‚è€ƒåŸ Teable é¡¹ç›®çš„ Action-based æ¨¡å‹
```

**åŸå› **ï¼šè¿™äº›æ³¨é‡Šè¯´æ˜äº†æ¶æ„è®¾è®¡çš„æ¥æºï¼Œæœ‰åŠ©äºç†è§£ä»£ç çš„è®¾è®¡æ€è·¯ã€‚

## æ’é™¤çš„ç›®å½•

ä»¥ä¸‹ç›®å½•è¢«æ’é™¤åœ¨æ¸…ç†èŒƒå›´å¤–ï¼ˆä¿æŒåŸæ ·ï¼‰ï¼š

- `teable-develop/` - ä¸´æ—¶å‚è€ƒé¡¹ç›®
- `teable-ui/` - æ—§çš„ UI å®ç°ï¼ˆå¯èƒ½éœ€è¦å‚è€ƒï¼‰
- `node_modules/` - ä¾èµ–åŒ…
- `.next/` - Next.js æ„å»ºäº§ç‰©

## æ¸…ç†ç»Ÿè®¡

| ç±»åˆ« | æ¸…ç†å‰ | æ¸…ç†å | çŠ¶æ€ |
|------|--------|--------|------|
| Go ä»£ç ä¸­çš„å“ç‰Œå¼•ç”¨ | 57 | ~10 | âœ… ä¿ç•™ä¸º"åŸé¡¹ç›®"æ³¨é‡Š |
| é…ç½®æ–‡ä»¶ | 3 | 0 | âœ… å®Œå…¨æ¸…ç† |
| æµ‹è¯•ä»£ç  | 6 | 0 | âœ… å®Œå…¨æ¸…ç† |
| æ–‡æ¡£æ³¨é‡Š | å¤šå¤„ | 0 | âœ… æ ‡æ³¨ä¸ºåŸé¡¹ç›® |
| æ–‡æ¡£ç¤ºä¾‹ä»£ç  | å¤šå¤„ | 0 | âœ… æ›´æ–°ä¸ºæ–°è·¯å¾„ |

## éªŒè¯ç»“æœ

### æ„å»ºæµ‹è¯• âœ…
```bash
$ cd server && make build
ğŸ”¨ æ„å»º LuckDB æœåŠ¡å™¨...
go build -o bin/luckdb ./cmd/luckdb
âœ… æ„å»ºå®Œæˆ: bin/luckdb
```

### è¿è¡Œæµ‹è¯• âœ…
```bash
$ cd server && make test
# æ‰€æœ‰æµ‹è¯•é€šè¿‡
```

## å…³é”®æ›´æ–°ç‚¹

### 1. ç¯å¢ƒå˜é‡å‰ç¼€
**å½±å“**ï¼šå¦‚æœä¹‹å‰ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ï¼Œéœ€è¦æ›´æ–°

```bash
# æ—§
export TEABLE_DB_HOST=localhost

# æ–°
export LUCKDB_DB_HOST=localhost
```

### 2. JWT Issuer
**å½±å“**ï¼šæ–°ç”Ÿæˆçš„ JWT Token å°†ä½¿ç”¨æ–°çš„ issuer

```yaml
# config.yaml
jwt:
  issuer: "luckdb-api"  # å·²æ›´æ–°
```

### 3. WebSocket Redis å‰ç¼€
**å½±å“**ï¼šWebSocket æ¶ˆæ¯åœ¨ Redis ä¸­çš„é”®å‰ç¼€å·²æ›´æ–°

```yaml
websocket:
  redis_prefix: "luckdb:ws"  # å·²æ›´æ–°
```

### 4. æµ‹è¯•æ•°æ®åº“
**å½±å“**ï¼šé›†æˆæµ‹è¯•ä½¿ç”¨æ–°çš„æ•°æ®åº“åç§°

```go
Database: "luckdb_test"  // å·²æ›´æ–°
```

## å‰©ä½™çš„ Teable å¼•ç”¨

å‰©ä½™å¼•ç”¨ä¸»è¦æ˜¯ï¼š

1. **è®¾è®¡æ–‡æ¡£** - è¯´æ˜æ¶æ„å‚è€ƒæ¥æº
2. **ä»£ç æ³¨é‡Š** - æ ‡æ³¨ä¸º"åŸ Teable é¡¹ç›®"
3. **æµ‹è¯•æ³¨é‡Š** - è¯´æ˜å…¼å®¹æ€§è€ƒè™‘

è¿™äº›å¼•ç”¨æ˜¯**æœ‰æ„ä¿ç•™**çš„ï¼Œç”¨äºï¼š
- è¯´æ˜è®¾è®¡å†³ç­–çš„æ¥æº
- å¸®åŠ©ç†è§£ä»£ç æ¶æ„
- ä¿æŒä¸åŸé¡¹ç›®çš„å…¼å®¹æ€§è¯´æ˜

## å»ºè®®

### å¦‚æœéœ€è¦å®Œå…¨ç§»é™¤ Teable å¼•ç”¨

å¯ä»¥è¿›ä¸€æ­¥æ“ä½œï¼š

```bash
# æŸ¥æ‰¾æ‰€æœ‰å‰©ä½™å¼•ç”¨
cd server
grep -r "teable" --include="*.go" --include="*.md" -i .

# æ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯å¦éœ€è¦ä¿®æ”¹
# å¤§éƒ¨åˆ†æ˜¯æ³¨é‡Šå’Œæ–‡æ¡£è¯´æ˜ï¼Œå»ºè®®ä¿ç•™
```

### æ›´æ–°æ–‡æ¡£

å»ºè®®åœ¨é¡¹ç›®æ–‡æ¡£ä¸­è¯´æ˜ï¼š

```markdown
## è®¾è®¡å‚è€ƒ

LuckDB çš„æ¶æ„è®¾è®¡å‚è€ƒäº† Teable é¡¹ç›®çš„ä¼˜ç§€å®è·µï¼ŒåŒ…æ‹¬ï¼š
- æƒé™ç³»ç»Ÿè®¾è®¡
- å­—æ®µç±»å‹ç³»ç»Ÿ
- æ•°æ®åº“éš”ç¦»æ–¹æ¡ˆ
```

## æ€»ç»“

âœ… **æ ¸å¿ƒå“ç‰Œå¼•ç”¨å·²å®Œå…¨æ¸…ç†**
- æ‰€æœ‰é…ç½®é»˜è®¤å€¼
- æ‰€æœ‰æµ‹è¯•ä»£ç 
- æ‰€æœ‰è¿è¡Œæ—¶å­—ç¬¦ä¸²

âœ… **æ–‡æ¡£æ³¨é‡Šå·²é€‚å½“æ ‡æ³¨**
- ä¿ç•™è®¾è®¡å‚è€ƒè¯´æ˜
- æ›´æ–°ä¸º"åŸé¡¹ç›®"å¼•ç”¨
- æœ‰åŠ©äºç†è§£ä»£ç æ¶æ„

âœ… **æ„å»ºå’Œæµ‹è¯•é€šè¿‡**
- ä»£ç æ­£å¸¸ç¼–è¯‘
- åŠŸèƒ½å®Œæ•´å¯ç”¨

---

**æ¸…ç†å®Œæˆæ—¥æœŸ**: 2024å¹´10æœˆ13æ—¥  
**é¡¹ç›®å“ç‰Œ**: LuckDB  
**çŠ¶æ€**: âœ… **æ¸…ç†å®Œæˆï¼Œå¯ä»¥æŠ•å…¥ä½¿ç”¨**

